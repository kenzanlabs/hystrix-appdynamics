language: java
jdk:
- oraclejdk8
env:
  global:
    - secure: "gkHjtbgXwu/7KYy+mxKBQYtl1v9qywHOt3DzXFLLlEAkuL6S9KgURet5qZ+Q7TpqjsRI/Qnc2mh/UMUAbTPoljWV5N3hI2SBvyvjgKEGamQpKgqXndG7M2ZdVwgHXL9p3k+ZRKMNCQGRjU0fkGUtvRPAYNoBNwjZ/UQChwtW2JnTTAQjbKnS37I5Q+sOjl9BfatSJqyMSySuZZE7UKJ82AtMvvYx6Rx4+x2dXhcmxTQjTaGM8OPkrV239/LqqWGTcvnvFZLwBpm7eIiM9FqzAliiOZQwwv0yMyQJQm8pad2K04vNeURDpbqj3EeWz/ciebrhgLhDqmCiMrBWYikrEczuElCnD2/xURmkUD0MRSUir6WHNk3U4Cb+jX/lLKKKY7BWHIcAXcQsE9M8lulURaz7vntHQQpbuSJSK17e3uC3WQZ4v1VXMo9gW69/ebwMpsd6lnXXFiTuWNnojOv+++zppOUcIXbez4j6ZTCt5YV7kE5XCxoZRyAOc4JUq+kBTaEXUvmd5BLfrz6/2YDmVe5NoO6n3ftGXnFz0qlpvxCvc2+TADIv1VMVGIAeZuptZClNdkDwCw7xbTIVrbhNBywqconjN5WiSY2Tqm0yTB4s8aJsIoNE3uOVywxcpdia6f0q0rJptMMeIkxJcl4/LiHgUCC8vPqhQfSKf1Vf5M0="
    - # ^^ GPG_KEY_NAME
    - secure: "E5mPcR78+ZuR6S5Q82Www8/7ngaw4Zvc2a5XeDr9WWSarF4O7fI+ehKvWCmOMLOnJFRHGPTfdaois6jN7xYdUbWwx3NCeWjG1VMaa7seSjY84h6cJVZ3tPmEp/D1t1PgyshwNYJImrWvegSDFTYCP/sneKLjkUiaYqQ1ei5KEhNzGgJuWfcz3gfKsk+t9kVS8tE9ktM3xP8SIjiSigqDWPSTkQ5MhRYRytd5/Fn4CVBYP49ey5C3rPjCT6zR6O+kp7NkYTPtGDVPZKlik3IpzJ/MD2LhMv+jajIrDXUs+Kpoygrfx/QPMil7xni65EwPfzpizsgO0VEEwHF+EeIQek5WTPpCIrV0QaWzBGA32a/jaoLt4PvS+45canKwZoaTtnV9LvaFwiF/DKbLD1CRF0KQsgUzBZiwisyTmhkQErrYcmTsGfvJYT8zJN7tsPcnytq6SVbRyx/NikkbZ1ahOKInor80RyKnjF6xY+9Wbkp2dMG3kJXLW2K0SrK1MBe66C44cq3xrSlSyiZDXU70XUGyV7xXUiSSle5yAi6OD7u8tlCRepXE0HTiDLbVVJxY0sfPdXjr6iKDqc14M4bVpakdTJdqe2kQkFrHTmOfZgliQ+VyAZ561pm95rznMbe3qsT1mv9I7iMvCxLaIC4A2gVw9e5RhBieRm8YVDf3sE4="
    - # ^^ GPG_PASSPHRASE

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./travis/before_deploy.sh
  - ./travis/deploy.sh
